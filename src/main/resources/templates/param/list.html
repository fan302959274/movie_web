<script src="/js/pagination.js"></script>
<div>
    <table class="table table-condensed table-hover">
        <thead>
        <tr>
            <th width="20%">参数名称</th>
            <th width="20%">参数类型</th>
            <th width="20%">参数编码</th>
            <th width="40%">操作</th>
        </tr>
        </thead>
        <tbody>


        <tr th:each="param,paramStat : ${data.resultList}">
            <td th:text="${param.paramValue}"></td>
            <td th:text="${param.paramType}"></td>
            <td th:text="${param.paramCode}"></td>
            <td>
                <button type="button" class="btn btn-success btn-sm" th:value="${param.id}" id="add" name="add">添加连接
                </button>
                <button type="button" class="btn btn-warning btn-sm" th:value="${param.id}" id="edit" name="edit">编辑
                </button>
                <button type="button" class="btn btn-danger btn-sm" th:value="${param.id}" name="delete">删除</button>
            </td>

        </tr>

        </tbody>
    </table>
</div>


<div id="test" pageurl="/param/list" style="text-align: right;" pagination="pagination_new"
     th:attr="pagenumber=${data.page},totalpage=${data.totalPage}"></div>


<!-- 信息删除确认 -->
<div class="modal fade" id="delcfmmodel">
    <div class="modal-dialog">
        <div class="modal-content message_align">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">×</span></button>
                <h4 class="modal-title">提示信息</h4>
            </div>
            <div class="modal-body">
                <p>您确认要删除吗？</p>
            </div>
            <div class="modal-footer">
                <input type="hidden" id="url"/>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <a id="deletesubmmit" value="" class="btn btn-danger" data-dismiss="modal">确定</a>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<script type="text/javascript">

    $(function () {
        $("[name='delete']").click(function () {
            $('#delcfmmodel').modal("show");
            $('#delcfmmodel #deletesubmmit').val($(this).val());
        });


        $("#deletesubmmit").click(function () {
            $.ajax({
                type: "POST",
                data: {"id": $(this).val()},
                url: "/param/delete",
                success: function (data) {
                    if ("20000" == data.code) {
                        $("#query").click();
                    }
                }
            });
        });

    });



</script>